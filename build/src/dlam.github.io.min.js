var Article=function(a,b){this.parentElement=a,this.articleTitle=b.title,this.articleContent=b.content,this.articleImg=b.image,this.articleDate=new Date(parseInt(b.date)),this.timeDifference=Math.floor(Date.now()-this.articleDate.valueOf()),this.seconds=Math.floor(this.timeDifference/1e3),this.minutes=Math.floor(this.seconds/60),this.hours=Math.floor(this.minutes/60),this.days=Math.floor(this.hours/24)};Article.prototype.render=function(){var a;a=this.days>=7?this.articleDate.getMonth()+"/"+this.articleDate.getDate()+"/"+this.articleDate.getFullYear():0!==this.days?this.days+" days ago":0!==this.hours?this.hours+" hours ago":0!==this.minutes?this.minutes+" minutes ago":0!==this.seconds?this.seconds+" seconds ago":"Just now",this.parentElement.innerHTML+='<div class="article"><img src="'+this.articleImg+'"></img><div class="contentContainer"><div class="title">'+this.articleTitle+'</div><div class="date">'+a+'</div><div class="content">'+this.articleContent+"</div></div>"};var NavBar=function(a,b){this.parentElement=a,this.pages=b};NavBar.prototype.render=function(){for(var a=document.createElement("ul"),b=0;b<this.pages.length;b++){var c=this.pages[b];new NavLink(a,c.label,c.icon,c.path).render()}this.parentElement.appendChild(a)};var NavLink=function(a,b,c,d){this.parentElement=a,this.label=b,this.icon=c,this.path=d};NavLink.prototype.render=function(){var a=document.createElement("li");a.className="navButton";var b=document.createElement("i");b.className="icon "+this.icon;var c=document.createElement("span");c.className="label",c.textContent=this.label,a.appendChild(b),a.appendChild(c),this.parentElement.appendChild(a);var d=this;a.onmousedown=function(){siteNavigator.navigateTo(d.path)}};var Page=function(a,b,c){this.label=a,this.icon=b,this.path=c},SiteNavigator=function(a){this.win=a};SiteNavigator.prototype.navigateTo=function(a){this.win.history.pushState(null,"Dustin Lam - "+a,a)};var siteNavigator=new SiteNavigator(window);window.onload=function(){var a=(document.querySelector(".body"),document.querySelector(".navBar")),b=document.querySelector(".mainContainer"),c=[];c[0]=new Page("MENU","icon_menu","?page=menu"),c[1]=new Page("HOME","icon_home","/"),c[2]=new Page("ABOUT","icon_account","?page=about"),c[3]=new Page("BLOG","icon_pen","?page=blog"),c[4]=new Page("PROJECTS","icon_code-tags","?page=projects"),new NavBar(a,c).render();var d=new XMLHttpRequest,e="res/docs/blog/content.json";d.onreadystatechange=function(){if(4===d.readyState&&200===d.status)for(var a=JSON.parse(d.responseText),c=0;c<a.length;c++){var e=new Article(b,a[c]);e.render()}},d.open("GET",e,!0),d.send()};