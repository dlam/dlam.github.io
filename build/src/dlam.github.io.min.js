var Article=function(a,b){this.parentElement=a,this.articleTitle=b.title,this.articleContent=b.content,this.articleImg=b.image,this.articleDate=new Date(parseInt(b.date)),this.timeDifference=Math.floor(Date.now()-this.articleDate.valueOf()),this.seconds=Math.floor(this.timeDifference/1e3),this.minutes=Math.floor(this.seconds/60),this.hours=Math.floor(this.minutes/60),this.days=Math.floor(this.hours/24)};Article.prototype.render=function(){var a;a=this.days>=7?this.articleDate.getMonth()+"/"+this.articleDate.getDate()+"/"+this.articleDate.getFullYear():0!==this.days?this.days+" days ago":0!==this.hours?this.hours+" hours ago":0!==this.minutes?this.minutes+" minutes ago":0!==this.seconds?this.seconds+" seconds ago":"Just now",this.parentElement.innerHTML+='<div class="article"><img src="'+this.articleImg+'"></img><div class="contentContainer"><div class="title">'+this.articleTitle+'</div><div class="date">'+a+'</div><div class="content">'+this.articleContent+"</div></div>"};var NavBar=function(a,b){this.parentElement=a,this.pages=b};NavBar.prototype.render=function(){for(var a=document.createElement("ul"),b=0;b<this.pages.length;b++)new NavLink(a,this.pages[b]).render();this.parentElement.appendChild(a)};var NavLink=function(a,b){this.parentElement=a,this.page=b};NavLink.prototype.render=function(){var a=document.createElement("li");a.className="navButton";var b=document.createElement("i");b.className="icon "+this.page.icon;var c=document.createElement("span");c.className="label",c.textContent=this.page.label,a.appendChild(b),a.appendChild(c),this.parentElement.appendChild(a);var d=this;a.onmousedown=function(){siteNavigator.navigateTo(d.page)}};var Page=function(a,b,c,d){this.label=a,this.icon=b,this.path=c,this.loadHandler=d},SiteNavigator=function(a){this.win=a};SiteNavigator.prototype.navigateTo=function(a){this.win.history.pushState(null,"Dustin Lam - "+a.label,a.path),a.loadHandler()};var siteNavigator=new SiteNavigator(window);window.onload=function(){var a=document.querySelector(".navBar"),b=document.querySelector(".mainContainer"),c=[];c[0]=new Page("MENU","icon_menu","?page=menu",function(){b.innerHTML=""}),c[1]=new Page("HOME","icon_home","/",function(){b.innerHTML=""}),c[2]=new Page("ABOUT","icon_account","?page=about",function(){b.innerHTML=""}),c[3]=new Page("BLOG","icon_pen","?page=blog",function(){b.innerHTML="";var a=new XMLHttpRequest,c="res/docs/blog/content.json";a.onreadystatechange=function(){if(4===a.readyState&&200===a.status)for(var c=JSON.parse(a.responseText),d=0;d<c.length;d++){var e=new Article(b,c[d]);e.render()}},a.open("GET",c,!0),a.send()}),c[4]=new Page("PROJECTS","icon_code-tags","?page=projects",function(){b.innerHTML="";var a=new XMLHttpRequest,c="res/docs/blog/content.json";a.onreadystatechange=function(){if(4===a.readyState&&200===a.status)for(var c=JSON.parse(a.responseText),d=0;d<c.length;d++){var e=new Article(b,c[d]);e.render()}},a.open("GET",c,!0),a.send()}),new NavBar(a,c).render()};